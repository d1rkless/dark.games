<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>dark.games</title>
  <style>
    body {
      background-color: #808080; /* gray */
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      background-color: #111827;
    }

    h1 {
      margin: 0;
    }

    #menuBtn {
      margin-left: auto;
      font-size: 24px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }

    /* Dropdown Menu */
    .menu {
      position: absolute;
      top: 60px;
      right: 20px;
      background-color: #1f2937;
      list-style: none;
      margin: 0;
      padding: 0;
      border-radius: 8px;
      overflow: hidden;
      display: none;
      width: 200px;
    }

    .menu.show {
      display: block;
    }

    .menu > li {
      border-bottom: 1px solid #333;
    }

    .menu button.menu-toggle {
      width: 100%;
      text-align: left;
      background: none;
      border: none;
      color: white;
      padding: 10px 15px;
      font-size: 16px;
      cursor: pointer;
    }

    .menu button.menu-toggle:hover {
      background-color: #374151;
    }

    /* Submenu (slides down) */
    .submenu {
      max-height: 0;
      overflow: hidden;
      background-color: #111827;
      transition: max-height 0.3s ease;
    }

    .submenu.show {
      max-height: 200px;
    }

    .submenu li {
      padding: 8px 15px;
    }

    .submenu li button {
      background-color: #555;
      color: white;
      border: none;
      padding: 6px 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .submenu li button:hover {
      background-color: #666;
    }

    main {
      padding: 20px;
    }
  </style>
</head>
<body>
  <header>
    <h1>dark.games</h1>
    <button id="menuBtn">☰</button>
    <ul id="menu" class="menu">
      <li>
        <button class="menu-toggle" data-target="bgSubmenu">Backgrounds ▾</button>
        <ul id="bgSubmenu" class="submenu">
          <li>
            <button id="uploadBtn">Upload Image</button>
            <input type="file" id="bgUpload" accept="image/*" style="display:none;">
          </li>
          <li><button id="resetBtn">Choose Default</button></li>
        </ul>
      </li>

      <li>
        <button class="menu-toggle" data-target="settingsSubmenu">Settings ▾</button>
        <ul id="settingsSubmenu" class="submenu">
          <li><button>Volume</button></li>
          <li><button>Theme</button></li>
          <li><button>Controls</button></li>
        </ul>
      </li>

      <li>
        <button class="menu-toggle" data-target="aboutSubmenu">About ▾</button>
        <ul id="aboutSubmenu" class="submenu">
          <li>
            <p style="margin:0; padding:5px 10px; font-size:14px;">
              dark.games is your hub for custom browser games.
            </p>
          </li>
        </ul>
      </li>
    </ul>
  </header>

  <main>
    <p>Welcome to dark.games! Add your games below.</p>
  </main>

  <script>
    const menuBtn = document.getElementById('menuBtn');
    const menu = document.getElementById('menu');
    const uploadBtn = document.getElementById('uploadBtn');
    const bgUpload = document.getElementById('bgUpload');
    const resetBtn = document.getElementById('resetBtn');

    // Toggle entire dropdown menu
    menuBtn.addEventListener('click', () => {
      menu.classList.toggle('show');
    });

    // Handle submenu toggles (only one open at a time)
    document.querySelectorAll('.menu-toggle').forEach(button => {
      button.addEventListener('click', () => {
        const targetId = button.getAttribute('data-target');
        const submenu = document.getElementById(targetId);
        const isOpen = submenu.classList.contains('show');

        // Close all submenus
        document.querySelectorAll('.submenu').forEach(sm => sm.classList.remove('show'));

        // If the clicked one was closed, open it
        if (!isOpen) submenu.classList.add('show');
      });
    });

    // Upload background
    uploadBtn.addEventListener('click', () => bgUpload.click());
    bgUpload.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        document.body.style.backgroundImage = `url(${e.target.result})`;
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundRepeat = 'no-repeat';
        localStorage.setItem('bgImage', e.target.result);
      };
      reader.readAsDataURL(file);
    });

    // Reset to default gray
    resetBtn.addEventListener('click', () => {
      document.body.style.backgroundImage = '';
      document.body.style.backgroundColor = '#808080';
      localStorage.removeItem('bgImage');
    });

    // Load saved background
    window.addEventListener('load', () => {
      const savedBg = localStorage.getItem('bgImage');
      if (savedBg) {
        document.body.style.backgroundImage = `url(${savedBg})`;
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundRepeat = 'no-repeat';
      } else {
        document.body.style.backgroundColor = '#808080';
      }
    });
  </script>
</body>
</html>
