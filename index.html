<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>dark.games</title>
  <style>
    /* ===== Base Styles ===== */
    body {
      background-color: #808080; /* default gray */
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: #111827;
      position: relative;
      z-index: 10;
    }

    h1 {
      margin: 0;
      font-size: 1.5em;
    }

    #menuBtn, #closeGameBtn {
      font-size: 24px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }

    #menuBtn:hover, #closeGameBtn:hover {
      color: #00bfff;
      transform: scale(1.1);
    }

    #closeGameBtn {
      display: none; /* hidden until a game opens */
      margin-right: 10px;
    }

    /* ===== Menu ===== */
    .menu {
      position: absolute;
      top: 60px;
      right: 10px;
      background-color: #1f2937;
      list-style: none;
      margin: 0;
      padding: 0;
      border-radius: 8px;
      overflow: hidden;
      max-height: 0;
      transition: max-height 0.4s ease;
      z-index: 5;
    }

    .menu.show {
      max-height: 500px;
    }

    .menu li {
      padding: 10px 20px;
      cursor: pointer;
      user-select: none;
    }

    .menu li:hover {
      background-color: #374151;
    }

    /* ===== Submenus ===== */
    .submenu {
      background-color: #111827;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .submenu.show {
      max-height: 200px;
    }

    .submenu li {
      padding-left: 30px;
    }

    main {
      padding: 40px;
      text-align: center;
    }

    /* ===== Game Overlay ===== */
    #gameOverlay {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.95);
      transition: bottom 0.7s ease;
      z-index: 9;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #gameOverlay.show {
      bottom: 0;
    }

    iframe {
      width: 90%;
      height: 80%;
      border: none;
      border-radius: 12px;
    }

    button {
      background: none;
      border: 1px solid #444;
      color: white;
      padding: 5px 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #333;
    }
  </style>
</head>
<body>
  <header>
    <button id="closeGameBtn">‚ùå</button>
    <h1>dark.games</h1>
    <button id="menuBtn">‚ò∞</button>

    <ul id="menu" class="menu">
      <li id="bgToggle">Backgrounds ‚ñæ
        <ul class="submenu" id="bgSubmenu">
          <li>
            <button id="uploadBtn">Upload Image</button>
            <input type="file" id="bgUpload" accept="image/*" style="display:none;">
          </li>
          <li><button id="resetBtn">Reset to Default</button></li>
        </ul>
      </li>
      <li id="settingsToggle">Settings ‚ñæ
        <ul class="submenu" id="settingsSubmenu">
          <li>Dark Mode (coming soon)</li>
          <li>Sound: On/Off (coming soon)</li>
        </ul>
      </li>
      <li id="aboutToggle">About ‚ñæ
        <ul class="submenu" id="aboutSubmenu">
          <li>Made by You üòé</li>
          <li>Version 1.0</li>
        </ul>
      </li>
      <li id="slopeGameBtn">üéÆ Play Slope Rider</li>
    </ul>
  </header>

  <main>
    <p>Welcome to <strong>dark.games</strong>! Choose a game from the menu to play.</p>
  </main>

  <!-- Game Overlay Panel -->
  <div id="gameOverlay">
    <iframe src="https://sloperider.org/"></iframe>
  </div>

  <script>
    /* ===== Menu & Submenus ===== */
    const menuBtn = document.getElementById('menuBtn');
    const menu = document.getElementById('menu');
    const bgToggle = document.getElementById('bgToggle');
    const bgSubmenu = document.getElementById('bgSubmenu');
    const settingsToggle = document.getElementById('settingsToggle');
    const settingsSubmenu = document.getElementById('settingsSubmenu');
    const aboutToggle = document.getElementById('aboutToggle');
    const aboutSubmenu = document.getElementById('aboutSubmenu');

    menuBtn.addEventListener('click', () => menu.classList.toggle('show'));
    bgToggle.addEventListener('click', () => bgSubmenu.classList.toggle('show'));
    settingsToggle.addEventListener('click', () => settingsSubmenu.classList.toggle('show'));
    aboutToggle.addEventListener('click', () => aboutSubmenu.classList.toggle('show'));

    /* ===== Background Upload ===== */
    const uploadBtn = document.getElementById('uploadBtn');
    const bgUpload = document.getElementById('bgUpload');
    const resetBtn = document.getElementById('resetBtn');

    uploadBtn.addEventListener('click', () => bgUpload.click());

    bgUpload.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = e => {
        document.body.style.backgroundImage = `url(${e.target.result})`;
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundRepeat = 'no-repeat';
        localStorage.setItem('bgImage', e.target.result);
      };
      reader.readAsDataURL(file);
    });

    resetBtn.addEventListener('click', () => {
      document.body.style.backgroundImage = '';
      document.body.style.backgroundColor = '#808080';
      localStorage.removeItem('bgImage');
    });

    window.addEventListener('load', () => {
      const savedBg = localStorage.getItem('bgImage');
      if (savedBg) {
        document.body.style.backgroundImage = `url(${savedBg})`;
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundRepeat = 'no-repeat';
      } else {
        document.body.style.backgroundColor = '#808080';
      }
    });

    /* ===== Game Overlay ===== */
    const slopeGameBtn = document.getElementById('slopeGameBtn');
    const gameOverlay = document.getElementById('gameOverlay');
    const closeGameBtn = document.getElementById('closeGameBtn');

    slopeGameBtn.addEventListener('click', () => {
      gameOverlay.classList.add('show');
      closeGameBtn.style.display = 'inline';
      menu.classList.remove('show');
    });

    closeGameBtn.addEventListener('click', () => {
      gameOverlay.classList.remove('show');
      closeGameBtn.style.display = 'none';
    });
  </script>
</body>
</html>
